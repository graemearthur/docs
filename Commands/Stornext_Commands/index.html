<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Stornext Commands - rthur.me Docs</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Stornext Commands";
        var mkdocs_page_input_path = "Commands/Stornext_Commands.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> rthur.me Docs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Welcome to rthur.me docs</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Commands</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../Brocades/">Brocades Switch</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../FAI/">FAI</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Hardware%20Commands/">Hardware Commands</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Nutanix_Files/">Nutanix Files Notes</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Stornext Commands</a>
    <ul class="current">
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../disks/">Disks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gitlab/">Gitlab Commands</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../systemctl/">useful Commands to file / Remember</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../useful_commands/">Useful commands</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">rthur.me Docs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Commands</li>
      <li class="breadcrumb-item active">Stornext Commands</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="commands">Commands</h2>
<p>login to root</p>
<pre><code>sudo rootsh
</code></pre>
<h2 id="log-files">Log Files</h2>
<p>Generally there is quite a bit of information in the System log files with regard to stornext, but it also has its own log files that can provide more detailed information, the most useful of these are:</p>
<p>/usr/adic/TSM/logs/tac/tac_00
This contains information about all TSM activities, and it can be a bit of a headache to decipher what is going on. </p>
<p>/usr/adic/TSM/logs/trace/trace_01
This is updated after every store or retrieve, and although it does not contain the filenames or filesystems involved, it does show the tape used, the mover used, the size of files and the transfer rate.</p>
<p>/usr/adic/MSM/logs/history/hist_00
This is updated for every tape mount and dismount and contains time, tape number and drive number.</p>
<p>/usr/adic/TSM/logs/tac/backup.log
A Full backup is run every Sunday night, and a partial on all other nights. The full backup process is recorded in this log file and should be looked at if there are any problems.</p>
<h2 id="tapes">Tapes</h2>
<p>The following commands are all to do with tape activity and can be helpful when tracking problems.</p>
<pre><code>fsstate
</code></pre>
<p>This command shows the tape drives, their status, and the tapes mounted on them.</p>
<pre><code>    fsmedinfo tapnum
</code></pre>
<p>Gives information on the Media with relation to the HSM such as available unavailable, suspect , number of files on tape
        fsmedinfo -l  media      <br />
 gives the above info plus a full list of files on tape. 
        vsmedqry media
Gives information on the media with relation to the archive such as which archive – i6k_archive2 (the robot)  or vault1 (anywhere else  such as tape racks)</p>
<h1 id="classpolicy-commands">Class/policy commands</h1>
<p>fsaddclass  <classname>  -  Created new class/policy with default policy options set.</p>
<p>fsmodclass  <classname>  [options] -  Change options for the class/policy</p>
<p>fsaddrelation -c <classname> <directory>  -  add class/policy to directory, thus making it managed. best done when directory is empty.</p>
<p>File manipulation</p>
<p>fsstore [-c n ]  filename   -  manually store n number of copies of a file</p>
<p>fsretrieve -a filenam  -  retrieve file</p>
<h1 id="operator-task-scripts">Operator Task Scripts</h1>
<p>/usr/adic/pcg/available_tapes – provides the number of blank tapes available in the robot
/usr/adic/pcg/i6k_enter_blanktapes – takes no parameters and will enter any tapes that have been placed in the I/E stations into the robot as blank tapes.
/usr/adic/pcg/i6kqry – provides the number of empty slots in the robot.
/usr/adic/pcg/eject_i6k – Will eject a set number of tapes from the robot to free up space. Tapes picked according to the time they were last accessed – oldest first.
 /usr/adic/pcg/enter_tape_i6k – takes a tape number as a parameter, and will enter it from an I/E station into the robot when requested.
/usr/adic/pcg/check_i6k_moves – returns any tapes that need to be moved from vault to robot.
 /usr/adic/pcg/enter_recycled_tapes – Instead of using new tapes, this script will list 20 pre-used but now empty tapes, (if any available) that can be put into the I/E station. The script will then enter the tapes as blanks.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../Nutanix_Files/" class="btn btn-neutral float-left" title="Nutanix Files Notes"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../disks/" class="btn btn-neutral float-right" title="Disks">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../Nutanix_Files/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../disks/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
